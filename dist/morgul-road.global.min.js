var morgulRoad=function(){"use strict";function e(e){return"[object Object]"===a.call(e)}function n(e){return"[object String]"===a.call(e)}function t(){}function r(e,n){for(var t=0;t<e.length&&!n(e[t],t++););}function o(o){function a(e,t,r,i){if(0===arguments.length)return p;if(3===arguments.length&&n(t)){g=function(n){var o=p=u(n);if(!l(e,r,o)){if(w)throw new Error("Ensure the default route matches one of the routes defined in route");w=!0,a(t,!0),w=!1}};var m="hash"===a.mode?"onhashchange":"onpopstate";return window[m]=function(){var e=location[a.mode];"pathname"===a.mode&&(e+=location.search),p!==u(e)&&g(e)},o.computePreRedrawHook=s,void window[m]()}if(e.addEventListener||e.attachEvent){var R="pathname"!==a.mode?location.pathname:"";return e.href=R+v[a.mode]+i.attrs.href,void(e.addEventListener?(e.removeEventListener("click",d),e.addEventListener("click",d)):(e.detachEvent("onclick",d),e.attachEvent("onclick",d)))}if(n(e)){var y=p;p=e;var E,b=t||{},k=p.indexOf("?");E=k>-1?h(p.slice(k+1)):{};for(var C in b)c.call(b,C)&&(E[C]=b[C]);var I,U=f(E);I=k>-1?p.slice(0,k):p,U&&(p=I+(-1===I.indexOf("?")?"?":"&")+U);var j=(3===arguments.length?r:t)===!0||y===e;if(window.history.pushState){var O=j?"replaceState":"pushState";o.computePreRedrawHook=s,o.computePostRedrawHook=function(){window.history[O](null,document.title,v[a.mode]+p)},g(v[a.mode]+p)}else location[a.mode]=p,g(v[a.mode]+p)}}function u(e){return e.slice(v[e.mode].length)}function l(e,n,t){m={};var a=t.indexOf("?");-1!==a&&(m=h(t.substr(a+1,t.length)),t=t.substr(0,a));var i=Object.keys(n),u=i.indexOf(t);if(-1!==u)return o(e,n[i[u]]),!0;for(var l in n)if(c.call(n,l)){if(l===t)return o(e,n[l]),!0;var s=new RegExp("^"+l.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(s.test(t))return t.replace(s,function(){var t=l.match(/:[^\/]+/g)||[],a=[].slice.call(arguments,1,-2);r(t,function(e,n){m[e.replace(/:|\./g,"")]=decodeURIComponent(a[n])}),o(e,n[l])}),!0}}function s(){"hash"!==a.mode&&location.hash?location.hash=location.hash:window.scrollTo(0,0)}function f(n,t){var o={},a=[];for(var u in n)if(c.call(n,u)){var l=t?t+"["+u+"]":u,s=n[u];if(null===s)a.push(encodeURIComponent(l));else if(e(s))a.push(f(s,l));else if(i(s)){var h=[];o[l]=o[l]||{},r(s,function(e){o[l][e]||(o[l][e]=!0,h.push(encodeURIComponent(l)+"="+encodeURIComponent(e)))}),a.push(h.join("&"))}else void 0!==s&&a.push(encodeURIComponent(l)+"="+encodeURIComponent(s))}return a.join("&")}function h(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));var n=e.split("&"),t={};return r(n,function(e){var n=e.split("="),r=decodeURIComponent(n[0]),o=2===n.length?decodeURIComponent(n[1]):null;null!=t[r]?(i(t[r])||(t[r]=[t[r]]),t[r].push(o)):t[r]=o}),t}function d(e){if(e=e||event,!(e.ctrlKey||e.metaKey||e.shiftKey||2===e.which)){e.preventDefault?e.preventDefault():e.returnValue=!1;var n,t=e.currentTarget||e.srcElement;for(n="pathname"===a.mode&&t.search?h(t.search.slice(1)):{};t&&!/a/i.test(t.nodeName);)t=t.parentNode;a(t[a.mode].slice(v[a.mode].length),n)}}var m,p,v={pathname:"",hash:"#",search:"?"},g=t,w=!1;return a.param=function(e){if(!m)throw new Error("You must call route(element, defaultRoute, routes) before calling route.param()");return e?m[e]:m},a.mode="search",a.buildQueryString=f,a.parseQueryString=h,a}var a={}.toString,i=Array.isArray||function(e){return"[object Array]"===a.call(e)},c={}.hasOwnProperty;return o}();